
DROP DATABASE IF EXISTS proetointegrado;

CREATE DATABASE proetointegrado DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;

USE proetointegrado;

DROP USER IF EXISTS 'admcooptar'@'localhost';

CREATE USER 'admcooptar'@'localhost' IDENTIFIED BY '12345'; 

GRANT SELECT, INSERT, UPDATE, DELETE ON proetointegrado.* TO 'admcooptar'@'localhost';

CREATE TABLE cadastro (
  codigoAnimal INTEGER AUTO_INCREMENT PRIMARY KEY,    
  nomePai VARCHAR(30) NOT NULL, 
  dataNascimento DATETIME NOT NULL,
  codigoMae INTEGER NOT NULL,
  nomeImagem VARCHAR(30),
  estadoVida BOOLEAN NOT NULL,
);

CREATE TABLE inseminacao (
  codigoInseminacao INTEGER AUTO_INCREMENT PRIMARY KEY,    
  codigoAnimal INTEGER FOREIGN KEY (codigoAnimal) REFERENCES cadastro(codigoAnimal),
  ingredientes VARCHAR(100),
  nomeImagem VARCHAR(50)  
);

CREATE TABLE producao (
  codigoProducao INTEGER AUTO_INCREMENT PRIMARY KEY,    
  codigoAnimal INTEGER FOREIGN KEY (codigoAnimal) REFERENCES cadastro(codigoAnimal),
  codCliente INTEGER,
  taxaEntrega REAL,
  tipoEntrega tinyint(1),
  dataPedido DATETIME,
  status tinyint(1),
  FOREIGN KEY (codCliente) REFERENCES cliente(codigo)
);

CREATE TABLE tratamento (
  codigoTratamento INTEGER AUTO_INCREMENT PRIMARY KEY,    
  codigoAnimal INTEGER FOREIGN KEY (codigoAnimal) REFERENCES cadastro(codigoAnimal),  numPedido INTEGER,
  sabor1 INTEGER,
  sabor2 INTEGER,
  sabor3 INTEGER,
  sabor4 INTEGER,
  quantidade INTEGER,
  valor REAL,
);

INSERT INTO cadastro values (1, "TouroNome", 22/02/2001, 32, "1.jpg", TRUE);
